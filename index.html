<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Nish â€” Training Log</title>
  <link rel="stylesheet" href="styles.css"/>
  <!-- Chart.js CDN for progress charts -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <header>
    <h1>Training Log</h1>
    <nav>
      <button class="tab-btn active" data-tab="log">Log Workout</button>
      <button class="tab-btn" data-tab="history">History</button>
      <button class="tab-btn" data-tab="progress">Progress</button>
      <button class="tab-btn" data-tab="settings">Settings</button>
    </nav>
  </header>

  <main>
    <!-- LOG TAB -->
    <section id="log" class="tab-pane active">
      <div class="panel">
        <h2>New Workout</h2>
        <form id="workout-form">
          <div class="row">
            <label>Date
              <input type="date" id="wdate" required />
            </label>
            <label>Day / Split
              <input type="text" id="wsplit" placeholder="e.g., Pull, Push, Legs" required />
            </label>
            <label>Notes
              <input type="text" id="wnotes" placeholder="optional"/>
            </label>
          </div>

          <h3>Exercises</h3>
          <div id="exercise-list"></div>
          <div class="row">
            <label>Quick add from template
              <select id="template-ex">
                <option value="">â€” choose â€”</option>
              </select>
            </label>
            <button type="button" id="add-exercise">Add Exercise</button>
          </div>

          <div class="actions">
            <button type="submit">Save Workout</button>
            <button type="button" id="clear-form">Clear</button>
          </div>
        </form>
      </div>
    </section>

    <!-- HISTORY TAB -->
    <section id="history" class="tab-pane">
      <div class="panel">
        <h2>Workout History</h2>
        <div id="history-list"></div>
      </div>
    </section>

    <!-- PROGRESS TAB -->
    <section id="progress" class="tab-pane">
      <div class="panel">
        <h2>Progress</h2>
        <div class="row">
          <label>Exercise
            <select id="progress-ex"></select>
          </label>
          <label>Metric
            <select id="progress-metric">
              <option value="est1rm">Estimated 1RM (Epley)</option>
              <option value="best_reps_weight">Best WeightÃ—Reps</option>
              <option value="volume">Weekly Volume (kg)</option>
            </select>
          </label>
          <button id="refresh-progress" type="button">Refresh</button>
        </div>
        <canvas id="progress-chart" height="120"></canvas>
        <div id="progress-summary" class="summary"></div>
      </div>
    </section>

    <!-- SETTINGS TAB -->
    <section id="settings" class="tab-pane">
      <div class="panel">
        <h2>Settings</h2>
        <div class="row">
          <button id="export-json" type="button">Export Data (JSON)</button>
          <input type="file" id="import-file" accept="application/json"/>
          <button id="import-json" type="button">Import</button>
          <button id="reset-data" type="button">Reset All Data</button>
        </div>
        <p class="hint">Data is saved in your browser via localStorage. Export regularly if you change devices.</p>
      </div>
    </section>
  </main>

  <footer>
    <small>Built for Nish â€¢ Progressive overload or bust ðŸ’ª</small>
  </footer>

  <template id="exercise-template">
    <div class="exercise">
      <div class="row">
        <label>Exercise
          <input type="text" class="ex-name" placeholder="e.g., Lat Pulldown" required />
        </label>
        <label>Notes
          <input type="text" class="ex-notes" placeholder="tempo / form cue (optional)"/>
        </label>
        <button class="danger remove-ex" type="button">Remove Exercise</button>
      </div>
      <div class="sets">
        <div class="set-row header">
          <span>#</span><span>Weight (kg)</span><span>Reps</span><span>Failure</span><span>Remove</span>
        </div>
        <div class="set-container"></div>
        <button class="add-set" type="button">+ Add Set</button>
      </div>
    </div>
  </template>

  <template id="set-template">
    <div class="set-row">
      <span class="set-idx"></span>
      <input type="number" step="0.01" min="0" class="set-weight" placeholder="kg" required />
      <input type="number" min="1" class="set-reps" placeholder="reps" required />
      <input type="checkbox" class="set-failure" />
      <button class="remove-set danger" type="button">âœ•</button>
    </div>
  </template>

  <script src="app.js"></script>
</body>
</html>
